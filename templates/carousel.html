## mako
<%! from carousel.models import Slide %>
<%namespace name='static' file='/static_content.html'/>

<%
  slides = Slide.objects.filter(active=True)
%>

<header>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div id="myCarousel" class="carousel slide">
          <!-- Indicators -->
          <ol class="carousel-indicators">
			      %for i in range(slides.count()):
			        %if i == 0:
                <li data-target="#myCarousel" data-slide-to="${i}" class="active"></li>
              %else:
                <li data-target="#myCarousel" data-slide-to="${i}"></li>
              %endif
			      %endfor
          </ol>
          
          <!-- Wrapper for slides -->
          <div class="carousel-inner">
            %for i, slide in enumerate(slides):
              %if i == 0:
                <div class="item active">
              %else:
                <div class="item">
              %endif
              <div class="fill" ></div>
              <div class="carousel-caption">
                <a href="${slide.url}">
                  <img src="${slide.image.url}">
                </a>
                <h1>${slide.title}</h1>
                <p>${slide.description}</p>
              </div>
            </div>
            %endfor
          </div>
          
          <!-- Controls --> 
          <a class="left carousel-control ltr" href="#myCarousel" data-slide="prev"> <span class="icon-prev"></span> </a> <a class="right carousel-control ltr" href="#myCarousel" data-slide="next"> <span class="icon-next"></span> </a> </div>
      </div>
    </div>
  </div>
</header>